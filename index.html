<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Audio Guide</title>
  <style>
    body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;margin:24px;line-height:1.4}
    .btn{display:inline-block;padding:14px 18px;border:1px solid #333;border-radius:10px;text-decoration:none;color:#000;font-size:18px}
    .hint{margin-top:14px;color:#444}
  </style>
</head>
<body>
  <h1>Audio Guide</h1>

  <audio id="player" preload="auto" playsinline>
    <source src="guide1.m4a" type="audio/mp4">
    Your browser does not support the audio element.
  </audio>

  <p>
    <a class="btn" href="#" id="playBtn">▶︎ Tap to play</a>
  </p>
  <p class="hint" id="status">Trying to play automatically…</p>

  <script>
    const player = document.getElementById('player');
    const status = document.getElementById('status');
    const playBtn = document.getElementById('playBtn');

    async function tryPlay() {
      try {
        await player.play();
        status.textContent = "Playing.";
      } catch (e) {
        // Autoplay may be blocked on some devices/browsers.
        status.textContent = "Autoplay was blocked. Please tap the button once.";
      }
    }

    playBtn.addEventListener('click', (ev) => {
      ev.preventDefault();
      player.play();
      status.textContent = "Playing.";
    });

    // Attempt autoplay on load (works on many QR-scan flows; if blocked, user taps once).
    window.addEventListener('load', tryPlay);
  </script>
</body>
</html>
